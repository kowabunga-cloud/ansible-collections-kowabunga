#jinja2: trim_blocks: "true", lstrip_blocks: "true"
# {{ ansible_managed }}

NFS_Core_Param {
  Enable_NLM = false;
  Enable_RQUOTA = false;
  Bind_Addr = {{ ceph_monitor_nodes[ansible_hostname] }};
}

EXPORT_DEFAULTS {
  Attr_Expiration_Time = 0;
}

CACHEINODE {
  Dir_Chunk = 0;
  NParts = 1;
  Cache_Size = 1;
}

NFSv4 {
  Minor_Versions = 0, 1, 2;
}

MDCACHE {
  Dir_Chunk = 0;
}

CEPH {
  ceph_conf = '/etc/ceph/{{ ceph_cluster_name }}.conf';
  unmask = 0;
}

LOG {
  Facility {
    name = FILE;
    destination = "{{ ceph_fs_nfs_log_file }}";
    enable = active;
  }
}

# DO NOT EDIT TARGET FILE
# GENERATED BY API
%include {{ ceph_fs_nfs_api_export_api_file }}
